<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <ul>
        <li>
            <span></span>
        </li>
        <li>
            <span></span>
            <span></span>
            <span id="span_3"></span >
            <span id="span_4"></span>
        </li>
    </ul>
    <script> 
        //1.封装一个方法，检测str在str1中出现的索引位置，如果不存在返回-1；要求（性能尽可能最高，不能使用indexOf，substr,substring;用原生的方法实现）
        // var str ='345';
        // var str1 = '231334567434';
        // let reg = /^$/g
        // var str ='313';
        // var str1 = '231334567434';
        // function getIndex(str,str1){
        //     for(var j=0;j<str.length;j++){ 
        //         let curStr = str[j];
        //         for(var i=0;i<str1.length;i++){
        //             let curStr1 = str1[i];
        //             if(curStr1 === curStr&&str1[i+1] === str[j+1]){
        //                 if(str1[i+2] === str[j+2]){
        //                     return i;
        //                 }
        //             }
        //         }
        //     }
        //     return -1;
        // }
        // console.log(getIndex(str,str1))
        // 2.实现一个函数，生成某个DOM元素的路径；主要包含两部分；标签层级和兄弟元素中的顺序
        // <body>
        // <ul>
        //     <li>
        //         <span></span>
        //     </li>
        //     <li>
        //         <span></span>
        //         <span></span>
        //         <span></span>
        //         <span id="span_4"></span>
        //     </li>
        // </ul>
        // </body>
        // 如果传入id=”span_4”的元素；生成路径是body>ul[0]>li[1]>span[3]
            function getDom(str){
                let temp = '';
                let span = document.getElementById(str);
               while(span.nodeName.toLowerCase() !== 'body'){
                    let bro = span.previousElementSibling;
                    let num = 0;
                    while(bro != undefined){
                        bro = bro.previousElementSibling;
                        num++;
                    }
                    temp += span.nodeName.toLowerCase()+`[${num}]`+`>`;
                    span = span.parentNode;
               }
               temp = temp +`body`;
               let aa = temp.split('>').reverse().join('>');
               return aa;
            }
            console.log(getDom('span_4'));
            // function getDom(str){
            //     let num;
            //     let len = [];
            //     let arr=[];
            //     let spanAll =  str.previousSibling;//获取span的哥哥元素
            //     let parent = str.parentNode;//获取的当前span的父元素li
            //     let parents = parent.parentNode;//获取的当前li的父元素ul
            //     while(spanAll){
            //         if(spanAll.nodeType === 1){
            //             arr.push(spanAll)
            //         }

            //         spanAll = spanAll.previousSibling;
            //     }
            //     len.push(arr.length)//获取的是第几个span
            // arr = [];
            // while(parent){

            //     if(parent.nodeType === 1){
            //         arr.push(parent)
            //     }
            //     parent = parent.previousSibling; 
            // }
            // len.push(arr.length-1);//获取是第几个li
            // // console.log(len)
            // arr = [];
            // while(parents){
            //     parents = parents.previousSibling;
            //     if(parents === undefined){
            //         return arr;
            //     }
            // }
            // len.push(arr.length);//获取是第几个ul
            // return `body>ul[${len[2]}]>li[${len[1]}]>span[${len[0]}]` 
            // } 
            



//    function getPrevious(a) {
//             let bro = a.previousSibling;
//             while (bro) {
//                 if (bro.nodeType === 1) {
//                     return bro;
//                 } else {
//                     bro = bro.previousSibling;
//                 }

//             }
//             return bro;
//         }
//         console.log(getPrevious(a))








        // function getDom(str){
        //     let strr;
        //     let arr = document.getElementById(str); 
        //     let parent = arr.parentNode; //获取当前span的父元素li
        //     let parents = parent.parentNode;//获取ul 
        //     let chidren = parent.children;//获取li的所有span元素
        //     let liChildren = parents.children;//获取ul的所有的li元素
        //     for(var i=0;i<chidren.length;i++){
        //         if(chidren[i].id === str){
        //             let curSpan = chidren[i]; 
        //             let index = i;//获取当前span对应的索引
        //             // console.log(index)
        //         }
        //     }; 
        //     parent.setAttribute('index',1);
        //     console.log(liChildren.getAttribute('index'))
        //     for(var i=0;i<liChildren.length;i++){
        //        if(liChildren.getAttribute('index') === 1){
        //             strr = i;//li的索引
        //        }
        //     };


        // };
        // getDom('span_4');

        // 3.实现一个方法，将有序的数组变为乱序（随机顺序）
        // let ary = [1,2,3,4,5];
        // function roundArr(a){
        //     let arr;
        //     for(var i=0;i<a.length;i++){
        //         let index = Math.round(Math.random()*(ary.length-1));
        //         arr = a[index];
        //         a[index] = a[i];
        //         a[i] = arr;
        //     }
        //    return a; 
        // }
        // console.log(roundArr(ary));
        // 4.获取下面这个对象中所有的属性名，放到对象中；
        // var obj = {
        //     a: [{ b: 1, c: { d: 2 } }],
        //     e: { f: 1, h: [{ i: 1 }] },
        //     x: { y: 2 }
        // };
        // let arr = [];
        // function getKey(obj) {
        //     if (obj instanceof Array) {
        //         obj.forEach(function(item){
        //             push(item);
        //         })
        //     } else {
        //         push(obj);
        //     }
        //     return arr;
        // }
        // function push(a) {
        //     for (key in a) {
        //         arr.push(key);
        //         if (typeof a[key] == "object") {
        //             getKey(a[key]);
        //         }
        //     }
        // }
        // console.log(getKey(obj));

    </script>
</body>

</html>