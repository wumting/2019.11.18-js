<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div>hello</div>
    <div class="box">
        <span>1</span>
        <span>2</span>
        <span>3</span>
        <span>4</span>
        <span>5</span>
        <span>6</span>
    </div>
    <div>world</div>
    <div>I</div>
    <div class="con">am</div>
    <script>
        var con = document.getElementsByClassName('con')[0];
 
        // 封装的作业
        // 获取当前元素所有子元素节点  children
        // 获取弟弟元素节点
        // 获取当前元素所有的弟弟元素节点
        // 获取当前元素在兄弟元素节点中索引；
        //a 代表选择器  b 取值 ：1 获取所有子元素  2 获取弟弟元素节点  3 当前元素所有的兄弟元素节点  4 获取当前元素在兄弟元素节点中索引
        function chilAll(a, b) { 
            var curEle = document.querySelectorAll(a)[0]; 
            var arr = [];
            if (b === 1) {//获取当前元素所有子元素节点
                var childs = curEle.childNodes; 
                for (var i = 0; i < childs.length; i++) {
                    if (childs[i].nodeType === 1) {
                        arr.push(childs[i]);
                    }
                }
                return arr;
            } else if (b === 2) {//获取弟弟元素节点
                return nextAll(curEle);
            }else if(b === 3){//当前元素所有的兄弟元素节点
                broAll(curEle);
                nextAll(curEle);
                return arr;
            }else if(b === 4){//获取当前元素在兄弟元素节点中索引
                var parent = curEle.parentNode;
                var arr = [...parent.children];
                var index = arr.indexOf(curEle);
                return index;
            }
            function nextAll(a) {
                let next = a.nextSibling; 
                if (next !== null) {// 文本或者标签
                    if(next.nodeType==1){
                        arr.push(next);
                    }
                    nextAll(next);
                } 
                return arr;
            }
            function broAll(curEle){
                var brother = curEle.previousSibling;
                if(brother !== null){
                    if(brother.nodeType === 1){
                        arr.push(brother);
                    }
                    broAll(brother);
                } 
                return arr;
            } 
        }
        // chilAll('.box', 3);
        console.log(chilAll('.box', 4))
    
    </script>
</body>

</html>